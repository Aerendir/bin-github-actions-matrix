{
  "name": "aerendir/bin-github-actions-matrix",
  "description": "Updates the matrix of required status checks in branch protection rules of a repository hosted on GitHub.",
  "license": "MIT",
  "type": "application",
  "keywords": [
    "github",
    "github actions",
    "protection rules",
    "branch protection",
    "branch protection rules"
  ],
  "authors": [
    {
      "name": "Aerendir",
      "email": "hello@aerendir.me"
    }
  ],
  "require": {
    "php": "^8.3",
    "knplabs/github-api": "^3.0",
    "nyholm/psr7": "^1.8",
    "symfony/console": "^7.4 || ^8.0",
    "symfony/finder": "^7.4 || ^8.0",
    "symfony/http-client": "^7.4 || ^8.0",
    "symfony/yaml": "^7.4 || ^8.0",
    "thecodingmachine/safe": "^2.0"
  },
  "require-dev": {
    "bamarni/composer-bin-plugin": "^1.4",
    "phpstan/phpstan": "2.1.33",
    "phpstan/phpstan-phpunit": "2.0.10",
    "rector/rector": "2.2.14",
    "roave/security-advisories": "dev-master",
    "serendipity_hq/rector-config": "1.1.14",
    "thecodingmachine/phpstan-safe-rule": "1.4.3"
  },
  "autoload": {
    "psr-4": {
      "Aerendir\\Bin\\GitHubActionsMatrix\\": "src/"
    }
  },
  "autoload-dev": {
    "psr-4": {
      "Aerendir\\Bin\\GitHubActionsMatrix\\Tests\\": "tests/"
    }
  },
  "bin": [
    "src/Composer/Bin/github-actions-matrix"
  ],
  "config": {
    "allow-plugins": {
      "bamarni/composer-bin-plugin": true,
      "php-http/discovery": true
    },
    "sort-packages": true
  },
  "extra": {
    "bamarni-bin": {
      "bin-links": false,
      "forward-command": false
    }
  },
  "scripts": {
    "post-install-cmd": [
      "@composer bin all install --ansi"
    ],
    "post-update-cmd": [
      "@composer bin all update --ansi"
    ],
    "bin": "echo 'bin not installed'",
    "bl": [
      "@bl:phpstan",
      "@bl:psalm"
    ],
    "bl:phpstan": [
      "vendor/bin/phpstan analyse --generate-baseline .baseline-phpstan.neon"
    ],
    "bl:psalm": [
      "vendor-bin/phpunit/vendor/bin/psalm --set-baseline=.baseline-psalm.xml"
    ],
    "fix": [
      "@fix:rector",
      "@fix:phpcs",
      "@fix:cn"
    ],
    "fix:cn": [
      "composer bin cn normalize ./../../composer.json --no-scripts --no-update-lock"
    ],
    "fix:phpcs": [
      "vendor-bin/phpcs/vendor/bin/php-cs-fixer fix --allow-risky yes -v"
    ],
    "fix:rector": [
      "Composer\\Config::disableProcessTimeout",
      "vendor/bin/rector process"
    ],
    "matrix:compare": [
      "@php src/Composer/Bin/github-actions-matrix compare -u Aerendir -b master"
    ],
    "matrix:sync": [
      "@php src/Composer/Bin/github-actions-matrix sync -u Aerendir -b master"
    ],
    "test": [
      "@php vendor-bin/phpunit/vendor/bin/phpunit"
    ],
    "test:coverage": [
      "@putenv XDEBUG_MODE=coverage",
      "@test --coverage-html var/coverage/coverage-html --coverage-clover var/coverage/clover.xml --coverage-xml var/coverage/coverage-xml --log-junit var/coverage/junit.xml"
    ],
    "test:coverage:filter": [
      "@test:coverage --filter"
    ],
    "val": [
      "@val:style",
      "@val:static"
    ],
    "val:cn": [
      "composer bin cn normalize ./../../composer.json --dry-run"
    ],
    "val:composer": [
      "@val:cn",
      "composer audit",
      "composer validate --strict --check-lock"
    ],
    "val:phpstan": [
      "vendor/bin/phpstan analyse"
    ],
    "val:psalm": [
      "vendor-bin/phpunit/vendor/bin/psalm"
    ],
    "val:static": [
      "@val:composer",
      "@val:phpstan",
      "@val:psalm"
    ],
    "val:style": [
      "@val:rector",
      "@val:phpcs",
      "@val:cn"
    ]
  }
}
